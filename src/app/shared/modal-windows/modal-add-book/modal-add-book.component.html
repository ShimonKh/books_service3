<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">{{title}}</h4>
    <button type="button" class="close pull-right"
            aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-group"
           [ngClass]="{'has-error': form.get('author').invalid && form.get('author').touched}">
        <label for="author">Author</label>
        <input
          type="text"
          class="form-control underlined"
          id="author"
          placeholder="Author"
          formControlName="author"
        >
        <span class="form-help-text" *ngIf="form.get('author').invalid && form.get('author').touched ">
       <span *ngIf="form.get('author')['errors']['required']">Field is required. </span>
       <span
         *ngIf="form.get('author')['errors']['maxlength'] && form.get('author')['errors']['maxlength']['requiredLength']">
              Author must be shoter than {{form.get('author')['errors']['maxlength']['requiredLength'] }} characters.
              </span>

    </span>
      </div>
      <div class="form-group"
           [ngClass]="{'has-error': form.get('title').invalid && form.get('title').touched}">
        <label for="title">Title</label>
        <input
          type="text"
          class="form-control underlined"
          id="title"
          placeholder="Title"
          formControlName="title"
        >
        <span class="form-help-text" *ngIf="form.get('title').invalid && form.get('title').touched ">
          <span *ngIf="form.get('title')['errors']['required']">Field is required. </span>
          <span *ngIf="form.get('title')['errors']['forbidden']"> Title already used. </span>
          <span
            *ngIf="form.get('title')['errors']['maxlength'] && form.get('title')['errors']['maxlength']['requiredLength']">
              Title must be shoter than {{form.get('title')['errors']['maxlength']['requiredLength'] }} characters.
              </span>
         </span>
      </div>
      <div class="form-group"
           [ngClass]="{'has-error': form.get('date').invalid && form.get('date').touched}">
        <label for="date">Date</label>
        <input
          type="date"
          class="form-control underlined"
          id="date"
          placeholder="Date"
          formControlName="date"
        >
        <span class="form-help-text" *ngIf="form.get('date').invalid && form.get('date').touched ">
           <span *ngIf="form.get('date')['errors']['required']">Field is required. </span>
        </span>
      </div>
      <div class="form-group">
        <button type="button" class="btn btn-secondary" (click)="modalRef.hide()">Cancel</button>
        <button [disabled]="form.invalid" type="submit" class="btn btn-primary pull-right">Save</button>
      </div>
    </form>
  </div>
</ng-template>
